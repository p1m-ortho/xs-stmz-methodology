# METHOD.md

## Частота осложнений хирургического лечения инфекционных поражений позвоночника против группы консервативного лечения: протокол исследования рутинных клинических данных центра неотложной взрослой хирургии позвоночника

### Актуальность

В систематическом обзоре P. Jutte с соавторами (2006) на тему клинической эффективности и безопасности комбинированного хирургического и специфического лечения по сравнению только со специфической терапией при туберкулезе позвоночника авторы не обнаружили убедительных научных свительств преимуществу операции перед лечением без операции. При этом по части осложнений авторы получили еще меньше данных.

Поскольку поиск и изучение источников по этой теме входят в объем отдельного обзора литературы, над которым мы сейчас работаем в рамках отдельного исследования, здесь этих вопросов касаться не будем.

В настоящей работе мы планируем получить собственные данные о сравнительной частоте осложнений хирургического лечения инфекционных поражений позвоночника с перспективой последующего включения этих данных в обзор литературы на этапе синтеза.

### Релеватные специальные руководства по проведению и написанию исследования такого дизайна

> ПВЖ: полужирным здесь выделяю ссылки, здесь добавленные впервые (ранее не фигурировали в истории коммитов).

The REporting of studies Conducted using
Observational Routinely-collected health
Data (RECORD) Statement
 ([[@Benchimol2015]](https://pubmed.gov/26440803)).

Strengthening the Reporting of Observational Studies in Epidemiology (STROBE): Explanation and Elaboration ([[@Vandenbroucke2007]](https://doi.org/10.1097/EDE.0b013e3181577511)).

[STROBE checklist for conference abstracts](http://www.strobe-statement.org/fileadmin/Strobe/uploads/checklists/STROBE_checklist_conference_abstract_DRAFT.pdf).

Reporting to Improve Reproducibility and Facilitate Validity Assessment for Healthcare Database Studies V1.0 ([[@Wang2017]](http://dx.doi.org/10.1016/j.jval.2017.08.3018)).

Transparent Reporting of Data Quality in Distributed Data Networks ([[@Kahn2015]](http://dx.doi.org/10.13063/2327-9214.1052)).

**Spinal Adverse Events Severity System, version 2 (SAVES-V2): inter- and intraobserver reliability assessment ([[@Rampersaud2016]](https://pubmed.gov/27058499)).**

> ПВЖ: откуда взял: из [[@Rosenthal2015]](https://pubmed.gov/25665678) (см. 1d7e3eecb4e0fb630596ac4bd91b4b79002a0579) поднял в PubMed [[@Clavien2009]](https://pubmed.gov/19638912), откуда из Similar articles перешел из интереса к [[@Sink2012]](https://pubmed.gov/22528378), откуда таким же образом перешел к [[@Rampersaud2010]](https://pubmed.gov/20195203), а оттуда уже таким же образом вышел на [[@Rampersaud2016]](https://pubmed.gov/27058499).

### Популяция

В соответствии с RECORD ([[@Benchimol2015]](https://pubmed.gov/26440803)), приводим в отдельности три уровня популяции:

1. Целевая популяция

    * Лица, для которых рассматривается вопрос хирургического лечения по поводу инфекционных поражений позвоночника.
    * Под инфекционными поражениями здесь понимаем любые поражения позвоночника, содержимого позвоночного канала или паравертебральных тканей, которые описываются как «спондилодисцит», как «дисцит», как «спондилит», исключая анкилозирующий спондилит, как «остеомиелит» или как «абсцесс».
    * Вне зависимости от этиологии.
    * Вне зависимости от содержания рассматриваемого хирургического или консервативного лечения.
    
2. Популяция базы данных

    * Медицинская информационная система НИИ скорой помощи им. И. И. Джанелидзе, где фиксируются все поступающие в институт пациенты, все выполняемые в институте операции и лучевые исследования и большая часть сведений из историй болезни (часть сведений при этом остается доступной только из бумажной истории), работает на полную силу ориентировочно с 2015 года.
    * Выбор только одного учреждения, причем именно этого, обусловлен производственными возможностями. При этом немаловажно отметить, что санкт-петербургский НИИ скорой помощи им. И. И. Джанелидзе является взрослым травмоцентром 1-го уровня, на уровне города специализирующемся в частности на лечении пострадавших с политравмой и пациентов с сепсисом, и на базе отделений института с 2010 функционирует городской центр неотложной хирургии позвоночника, в который распоряжением управления городским здравоохранением городскому бюро скорой помощи предписано направлять всех пациентов с острой спинальной патологией и пациентов со позвоночно-спинномозговой травмой со всей южной части города (подробнее см. в Дулаев А. К. и соавт., 2011, 2017, 2018). Другая часть пациентов с патологией позвоночника госпитализируется в институт планово.
    * Непосредственно к базе данных, обслуживающей МИС института, мы как исследователи не имеем доступа, поэтому IT-служба института по нашему техническому заданию сформировала запрос, в детали которого здесь углубляться не будем, так как это длинный разговор, см. для этого xs-led-dzhanelidze-global-spine-query. К пользованию этим запросом мы имеем свободный доступ и можем запускать его произвольное число раз.
    * Суть запроса в том, что он выбирает из всех случаев в базе случаи по двум критериям.
    * «Спинальная операция»: случаи, по которым выполнена операция с одним из внутренних кодов, которые мы расцениваем как спинальные (подробнее — в xs-led-dzhanelidze-global-spine-query).
    * «Спинальная КТ/МРТ»: случаи, не подошедшые по критерию «Спинальная операция», но по которым зарегистрировано хотя бы одно КТ- или МРТ-исследование, причем такое, в протоколе которого фигурирует текстовая маска «позвон». 
    * На выходе получаем таблицу Excel, где строками являются отдельные совпадения по критериям (то есть может быть более одной записи по одной госпитализации, если за данную госпитализацию выполнено несколько «спинальных операций» или «спинальных КТ/МРТ»), а поля — следующие: добавить список полей.
    
3. Популяция исследования

    * Из результатов этого запроса мы выбираем только записи с датой поступления от 01.01.2018 и с датой выписки по 31.01.2019. Такой выбор обусловлен стремлением увязать все ныне текущие работы по РКД санкт-петербургского городского центра неотложной хирургии позвоночника (см. ветки xa-led-p1m-apr-conference) на одну субпопуляцию пациентов, а поскольку одна из работ — не по базе, а по опросникам,  данные по которым имеются в настоящее время только за данный период (для подробностей см. xc-led-dzhanelidze-proms-and-croms), то и ограничились и здесь им же.
    * Итоговую таблицу экспортируем в формат CSV, и дальнейшее сужение по ней см. в [разделе о методах получения данных из базы](#методы-получения-данных-из-базы).

### Методы получения данных из базы

Документируем общее количество записей в итоговой CSV-таблице (см. [раздел о популяции](#популяция)), а также количества записей в категориях «Спинальная операция» и «Спинальная КТ/МРТ».

Устраним в таблице все записи, являющиеся 100%-ными дубликатами, документируем итоговое число.

Затем, открыв таблицу как текстовый файл, среди записей типа «Спинальная операция» выполним поиск по регулярному выражению, основанному на следующих масках:

* `спондилит`;
* `дисцит`;
* `остеомиелит`;
* `абсце`.

Итоговое регулярное выражение:

`/([Сс][Пп][Оо][Нн][Дд][Ии][Лл][Ии][Тт]|[Дд][Ии][Сс][Цц][Ии][Тт]|[Оо][Сс][Тт][Ее][Оо][Мм][Ии][Ее][Лл][Ии][Тт]|[Аа][Бб][Сс][Цц][Ее])/gi`

Документируем количество вхождений.

Затем вручную пройдем по каждому из вхождений, определяя их релевантность:

* Если данное вхождение относится к слову, обозначающему инфекционное поражение позвоночника в данном контексте (наше представление о таковом см. в [разделе о популяции](#популяция)), то оно релевантно.
* Иначе вхождение нерелевантно.

При этом будем подсчитывать число релевантных и нерелевантных вхождений, и итоговые числа документируем.

При выявлении релевантного вхождения соответствующую запись будем копировать в отдельный CSV-файл.

По окончании ручной проверки вхождений возьмем этот новый файл и документируем количество записей в нем.

После этого просмотрим вручную все записи и выполним подсчет отдельных декомпрессивно-стабилизирующих, санирующих, дренирующих операций, которые фигурируют по данным записям.

Для этого создадим в таблице отдельное поле для номера операции, куда для каждой записи будем проставлять последовательно числа, начиная с 1 и увеличивая с каждой записью на единицу, при этом если несколько записей относятся к одной и той же операции, то будем проставлять для таких записей одно и то же число, в том числе в случае комбинированных (в том числе двухэтапных) вмешательств.

Данные группы записей, объединенных общим номером операции, и составят основную группу исследования. Их число документируем.

Контрольную группу сформируем путем случайной выборки такого же числа _записей_ (именно записей, а не групп записей), как и в основной группе, из категории «Спинальные КТ/МРТ» изначальной CSV-таблицы.

Для этого сгенерируем в [разделе генерации множеств целых чисел без повторений на сайте RANDOM.ORG](https://www.random.org/integer-sets) одно неотсортированное множество, содержащее неповторяющиеся случайные числа, значение каждого из которых может быть от 1 до числа записей «Спинальные КТ/МРТ» в изначальной CSV-таблице, в количестве, равном числу таких записей.

Затем в изначальную CSV-таблицу добавим новое поле, куда вставим все эти значения (таким образом в каждой записи появится уникальное случайное число).

После этого отсортируем таблицу по возрастанию.

После этого начнем просматривать вручную все записи, выполняя подсчет отдельных случаев госпитализации, которые фигурируют по данным записям, до тех пор, пока число групп записей не станет равным числу групп записей в основной группе.

Для этого создадим в таблице отдельное поле для номера госпитализации, куда для каждой записи будем проставлять последовательно числа, начиная с 1 и увеличивая с каждой записью на единицу, при этом если несколько записей относятся к одной и той же госпитализации, то будем проставлять для таких записей одно и то же число.

Данные группы записей, объединенных общим номером госпитализации, и составят основную группу исследования. Их число документируем и скопируем их в отдельный файл.

**Мы осознаем, что группа «Спинальная КТ/МРТ» кроме искомых нами пациентов с инфекционными поражениями позвоночника, для которых могло рассматриваться выполнение хирургического лечения, однако было принято решение о консервативном лечении, может также включать пациентов следующих категорий:**

* пациентов без спинальной патологии;
* пациентов со спинальной патологией, иной чем инфекционные поражения позвоночника;
* таких пациентов с инфекционными поражениями позвоночника, для которых выполнение хирургического лечения вряд ли могло рассматриваться;
* оперированных пациентов, код операции которых не входит в список спинальных.

Однако адекватное выделение всех этих подгрупп представляется сложной задачей, и может быть выполнено в последующих исследованиях.

Таким образом будут сформированы основная и контрольная группы.

Объединим записи из файлов с основной и контрольной группами в один файл, отметив в отдельном поле для каждой записи принадлежность к основной или контрольной группам.

Затем приступим к выявлению осложнений.

Процесс идентификации и классификации осложнений проведем по [[@Rampersaud2016]](https://pubmed.gov/27058499), начиная с шага 2, т. к. в шаге 1 у них описан их материал (10 случаев ПСМТ и 12 случаев ДДЗП с изображениями и возможностью задать вопрос по случаю), который у нас отличается (ряд случаев инфекционное поражение позвоночника, для которых может рассматриваться вопрос хирургического лечения, без изображений, сведения ограничены выборкой из базы), и заканчивая шагом 3, так как нас интересует только частота осложнений, причем без детализации по их конкретному виду.

Таким образом, для каждой группы записей проведем установление факта наличия одного или более осложнений (интра- либо послеоперационных) в соответствии с классификацией [[@Rampersaud2016]](https://pubmed.gov/27058499), для чего будем вписывать «Да» или «Нет» в отдельное поле. Вписывая «Да» в случае, когда единственным подходящим видом осложнения в классификации выступает «Другое», будем в отдельное поле вписывать название соответствующего осложнения.

Согласие по факту наличия осложнений в оригинальной статье было отличным: 97—99 % межэкспертное и 97—100 % внутриэкспертное,— в связи с чем процедуру оценки наличия осложнений будет проводить однократно один исследователь (ПВЖ).

### Методы трансформации и анализа данных

Подсчитаем и документируем общее количество групп с осложнениями и без них в основной и контрольной группах (4 числа).

Рассчитаем относительный риск (RR) и его 95%-ный ДИ, пользуясь [калькулятором RR от CCRB CUHK](https://www2.ccrb.cuhk.edu.hk/stat/confidence%20interval/CI%20for%20relative%20risk.htm).

Рассчитаем, пользуясь [калькулятором хи-квадрат от Jeremy Stangroom](https://www.socscistatistics.com/tests/chisquare2/default2.aspx), значение статистики хи-квадрат в тесте на независимость (1 степень свободы) и p-значение (2 числа).

### Результаты

Предстатавим только в текстовой форме в полном соответствии [разделу о методах трансформации и анализа данных](#методы-трансформации-и-анализа-данных).

Первичные данные сейчас публиковать не планируем, поскольку их анонимизация и подготовка к публикации займут дополнительное время, однако они будут доступны по запросу.

### Обсуждение

Интерпретируем полученный 95%-ный ДИ отношения шансов и p-значение.

Обсудим вопросы риска систематической ошибки, опираясь на схему ROBINS-I ([[@Sterne2016]](https://doi.org/10.1136/bmj.i4919)).

> ПВЖ: про ROBINS-I см. ниже здесь в METHOD.md.

### Выводы

Интерпретируем полученные 95%-ные ДИ отношений шансов и p-значения.

### Практические рекомендации

Не предусмотрено.

### Направления дальнейших исследований

См. [раздел об актуальности](#актуальность).

### Благодарности

Здесь представим благодарности.

## Финальный план

На основе [общего финального плана](https://github.com/p1m-ortho/xa-led-p1m-apr-conference/blob/6e81446762c59f950bf189aa90db1e65d6d9cfdd/METHOD.md).

> [01:25, 7.3.2019] Павел: Завтра (уже сегодня) я сажусь и на основании того, что Вы успели по тезисам в своей ветке накопить за прошедшее время, пишу актуальность, цель, методы для работы с базой и анализа полученных данных. Тем временем Вы работаете по своему плану: Вы хотели еще что-то смотреть в Пабмеде — смотрите; по оптимальной документации поисков мы сегодня с Вами немного поговорили. Когда я все напишу, я дам знать Вам, и мы обсудим, что получилось. Далее Вы беретесь на основании этого писать окончательный текст тезисов, в то время как я реализую подготовленный план: работаю с базой и выполняю анализ. К утру пятницы Вы заканчиваете писать тезисы, а я заканчиваю считать — мы вставляем цифры в раздел с результатами в тезисах, формулируем вывод, и тезис готов, после чего я по отработанной технике (в R Studio) скомпилирую из этого тезиса готовый Word-документ — мы готовы к отправке ДИК.
>
> [01:26, 7.3.2019] Павел: Ну, а дальше — тупо по общему плану:
>
> [01:26, 7.3.2019] Павел: Дальше, в субботу и воскресенье, я займусь подготовкой документов на отправку, а вы все тем временем пройдете электронную регистрацию на конференцию.
>
> [01:26, 7.3.2019] Павел: В воскресенье я отправлю всем готовые сканы тезисов с подписями и печатями, и Вы направите их в оргкомитет.